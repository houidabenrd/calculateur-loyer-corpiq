@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Base ──────────────────────────────────────────────── */
:root {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

html { scroll-behavior: smooth; }

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-color: #f0f2f5;
  background-image:
    radial-gradient(at 20% 0%, rgba(19, 49, 92, 0.04) 0%, transparent 60%),
    radial-gradient(at 80% 100%, rgba(83, 15, 50, 0.03) 0%, transparent 60%);
  background-attachment: fixed;
}

/* ─── Scrollbar ─────────────────────────────────────────── */
::-webkit-scrollbar { width: 7px; height: 7px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #bfc7d0; border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: #97a3b0; }
::selection { background: rgba(19, 49, 92, 0.12); color: #13315c; }

/* ─── Components ────────────────────────────────────────── */
@layer components {
  .btn-primary {
    @apply bg-corpiq-blue text-white px-7 py-3.5 rounded-2xl font-bold text-[15px]
           hover:bg-corpiq-blue-light active:bg-corpiq-blue-dark
           transition-all duration-200 ease-out
           shadow-button hover:shadow-button-hover
           hover:-translate-y-0.5 active:translate-y-0
           disabled:opacity-40 disabled:hover:translate-y-0 disabled:hover:shadow-button disabled:cursor-not-allowed
           focus:outline-none focus:ring-2 focus:ring-corpiq-blue/25 focus:ring-offset-2;
  }

  .btn-secondary {
    @apply bg-white text-corpiq-blue px-7 py-3.5 rounded-2xl font-bold text-[15px]
           border-2 border-gray-200
           hover:border-corpiq-blue/20 hover:bg-corpiq-blue-50/40
           active:bg-corpiq-blue-50
           transition-all duration-200 ease-out
           hover:-translate-y-0.5 active:translate-y-0
           focus:outline-none focus:ring-2 focus:ring-corpiq-blue/15 focus:ring-offset-2;
  }

  .input-field {
    @apply w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-2xl
           text-gray-800 text-[15px] placeholder:text-gray-400
           focus:border-corpiq-blue/50 focus:shadow-input-focus
           hover:border-gray-300
           transition-all duration-200 outline-none;
  }

  .input-currency {
    @apply input-field text-right tabular-nums font-medium;
  }

  .input-readonly {
    @apply input-field bg-gray-50/80 text-gray-600 cursor-not-allowed border-gray-100
           hover:border-gray-100 focus:border-gray-100 focus:shadow-none;
  }

  .section-card {
    @apply bg-white rounded-3xl shadow-card overflow-hidden
           transition-all duration-300 hover:shadow-card-hover;
  }

  .section-header {
    @apply bg-gradient-to-r from-corpiq-blue via-corpiq-blue-light to-corpiq-blue
           text-white px-7 py-5 font-bold text-base relative overflow-hidden;
  }

  .section-header::before {
    content: '';
    @apply absolute inset-0 opacity-10;
    background: repeating-linear-gradient(
      -45deg, transparent, transparent 10px, rgba(255,255,255,0.05) 10px, rgba(255,255,255,0.05) 20px
    );
  }

  .section-content {
    @apply p-7;
  }
}

/* ─── Animations ────────────────────────────────────────── */
@keyframes highlight {
  0% { background-color: #fef3c7; transform: scale(1.01); }
  100% { background-color: transparent; transform: scale(1); }
}
.calc-highlight { animation: highlight 0.8s ease-out; }

@keyframes infoOverlayEnter {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes infoPanelEnter {
  from { opacity: 0; transform: scale(0.95) translateY(10px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}
@keyframes tooltipFadeIn {
  from { opacity: 0; transform: scale(0.96); }
  to { opacity: 1; transform: scale(1); }
}
.info-overlay-enter { animation: infoOverlayEnter 0.2s ease-out; }
.info-panel-enter { animation: infoPanelEnter 0.25s ease-out; }
.tooltip-content { animation: tooltipFadeIn 0.15s ease-out; }

@keyframes addressDropdownEnter {
  from { opacity: 0; transform: translateY(-4px); }
  to { opacity: 1; transform: translateY(0); }
}
.address-dropdown-enter { animation: addressDropdownEnter 0.15s ease-out; }

@keyframes stepEnter {
  from { opacity: 0; transform: translateY(24px); }
  to { opacity: 1; transform: translateY(0); }
}
.step-enter { animation: stepEnter 0.5s cubic-bezier(0.16, 1, 0.3, 1); }

@keyframes pulseRing {
  0% { box-shadow: 0 0 0 0 rgba(19, 49, 92, 0.35); }
  70% { box-shadow: 0 0 0 10px rgba(19, 49, 92, 0); }
  100% { box-shadow: 0 0 0 0 rgba(19, 49, 92, 0); }
}
.pulse-ring { animation: pulseRing 2s ease-in-out infinite; }

@keyframes shimmer {
  from { background-position: -200% 0; }
  to { background-position: 200% 0; }
}

/* Glass */
.glass {
  backdrop-filter: blur(16px) saturate(1.8);
  -webkit-backdrop-filter: blur(16px) saturate(1.8);
}

/* Hide number input arrows */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }

@media print { .no-print { display: none !important; } }
