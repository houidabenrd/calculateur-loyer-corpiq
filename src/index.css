@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Base ──────────────────────────────────────────────── */
:root {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  --corpiq-blue: #13315c;
  --corpiq-bordeaux: #530f32;
}

html { scroll-behavior: smooth; }

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-color: #f4f6f9;
  background-image:
    radial-gradient(ellipse at 15% 0%, rgba(19, 49, 92, 0.06) 0%, transparent 55%),
    radial-gradient(ellipse at 85% 100%, rgba(83, 15, 50, 0.04) 0%, transparent 55%),
    radial-gradient(ellipse at 50% 50%, rgba(19, 49, 92, 0.02) 0%, transparent 80%);
  background-attachment: fixed;
}

/* ─── Scrollbar ─────────────────────────────────────────── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #c1c8d1; border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: #929dad; }
::selection { background: rgba(19, 49, 92, 0.15); color: #0c2240; }

/* ─── Components ────────────────────────────────────────── */
@layer components {
  .btn-primary {
    @apply bg-corpiq-blue text-white px-7 py-3.5 rounded-2xl font-bold text-[15px]
           hover:bg-corpiq-blue-light active:bg-corpiq-blue-dark
           transition-all duration-200 ease-out
           shadow-button hover:shadow-button-hover
           hover:-translate-y-0.5 active:translate-y-0
           disabled:opacity-40 disabled:hover:translate-y-0 disabled:hover:shadow-button disabled:cursor-not-allowed
           focus:outline-none focus:ring-2 focus:ring-corpiq-blue/25 focus:ring-offset-2;
  }

  .btn-secondary {
    @apply bg-white text-corpiq-blue px-7 py-3.5 rounded-2xl font-bold text-[15px]
           border-2 border-gray-200
           hover:border-corpiq-blue/25 hover:bg-corpiq-blue-50/50
           active:bg-corpiq-blue-50
           transition-all duration-200 ease-out
           hover:-translate-y-0.5 active:translate-y-0
           shadow-sm hover:shadow-md
           focus:outline-none focus:ring-2 focus:ring-corpiq-blue/15 focus:ring-offset-2;
  }

  .input-field {
    @apply w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl
           text-gray-800 text-[15px] placeholder:text-gray-400
           focus:border-corpiq-blue/50 focus:shadow-input-focus focus:bg-white
           hover:border-gray-300 hover:bg-gray-50/30
           transition-all duration-200 outline-none;
  }

  .input-currency {
    @apply input-field text-right tabular-nums font-semibold;
  }

  .input-readonly {
    @apply input-field bg-gray-50/80 text-gray-600 cursor-not-allowed border-gray-100
           hover:border-gray-100 hover:bg-gray-50/80 focus:border-gray-100 focus:shadow-none;
  }

  .section-card {
    @apply bg-white rounded-2xl
           transition-all duration-300
           border border-gray-200/80;
    box-shadow: 0 1px 3px rgba(0,0,0,0.04), 0 4px 12px rgba(0,0,0,0.03);
  }
  .section-card:hover {
    box-shadow: 0 1px 3px rgba(0,0,0,0.04), 0 8px 24px rgba(0,0,0,0.06);
  }

  .section-header {
    @apply text-white px-6 py-4 font-bold text-[15px] relative rounded-t-2xl;
    background: linear-gradient(135deg, #0c2240 0%, #13315c 50%, #1a4178 100%);
  }

  .section-header::before {
    content: '';
    @apply absolute inset-0 opacity-[0.07] pointer-events-none;
    background: repeating-linear-gradient(
      -45deg, transparent, transparent 8px, rgba(255,255,255,0.06) 8px, rgba(255,255,255,0.06) 16px
    );
  }

  .section-content {
    @apply p-5 sm:p-6;
  }
}

/* ─── Animations ────────────────────────────────────────── */
@keyframes highlight {
  0% { background-color: #fef3c7; transform: scale(1.01); }
  100% { background-color: transparent; transform: scale(1); }
}
.calc-highlight { animation: highlight 0.8s ease-out; }

@keyframes infoOverlayEnter {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes infoPanelEnter {
  from { opacity: 0; transform: scale(0.95) translateY(10px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}
@keyframes tooltipFadeIn {
  from { opacity: 0; transform: scale(0.96); }
  to { opacity: 1; transform: scale(1); }
}
.info-overlay-enter { animation: infoOverlayEnter 0.2s ease-out; }
.info-panel-enter { animation: infoPanelEnter 0.25s ease-out; }
.tooltip-content { animation: tooltipFadeIn 0.15s ease-out; }

@keyframes addressDropdownEnter {
  from { opacity: 0; transform: translateY(-4px); }
  to { opacity: 1; transform: translateY(0); }
}
.address-dropdown-enter { animation: addressDropdownEnter 0.15s ease-out; }

@keyframes stepEnter {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.step-enter { animation: stepEnter 0.45s cubic-bezier(0.16, 1, 0.3, 1); }

@keyframes pulseRing {
  0% { box-shadow: 0 0 0 0 rgba(19, 49, 92, 0.3); }
  70% { box-shadow: 0 0 0 8px rgba(19, 49, 92, 0); }
  100% { box-shadow: 0 0 0 0 rgba(19, 49, 92, 0); }
}
.pulse-ring { animation: pulseRing 2s ease-in-out infinite; }

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.animate-shimmer { animation: shimmer 3s linear infinite; }

@keyframes softGlow {
  0%, 100% { box-shadow: 0 0 15px rgba(19, 49, 92, 0.08); }
  50% { box-shadow: 0 0 25px rgba(19, 49, 92, 0.15); }
}
.animate-soft-glow { animation: softGlow 4s ease-in-out infinite; }

/* Glass */
.glass {
  backdrop-filter: blur(16px) saturate(1.8);
  -webkit-backdrop-filter: blur(16px) saturate(1.8);
}

/* Gradient text */
.gradient-text {
  background: linear-gradient(135deg, #13315c, #1a4178, #530f32);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Hide number input arrows */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { -moz-appearance: textfield; }

@media print { .no-print { display: none !important; } }
